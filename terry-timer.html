<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Next Terry the Triangle Video Timer</title>

    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <meta name="viewport" content="width=device-width, intital-scale: 1.0">
  </head>
  <body>

    <p id=display style="text-align: center; font: 75pt Inconsolata, Courier, monospace;"></p>
    <p style="text-align: center; font: 20pt monospace;">
      until next <i>Cooking with Terry the Triangle</i> Episode is Live!
    </p>

    <script>
      var interval = 1296000000;
      var next = 1438192800000;
      var now;

      var minute = 60;
      var hour =  minute * 60;
      var day = hour * 24;

      window.setInterval(function() {update()}, 1000)

      function update() {
        now = Date.now();

        while (now > next) {
          next += interval;
        }

        var time = document.getElementById("display");
        var until = Math.floor((next - now) / 1000);

        var untilDay = Math.floor(until / day);
        until = Math.floor(until % day);

        var untilHour = Math.floor(until / hour);
        until = Math.floor(until % hour);

        var untilMin = Math.floor(until / minute);
        until = Math.floor(until % minute);

        var untilString = untilDay.toString();

        /*untilCalcSmall(untilDay, untilString)

        untilCalcSmall(untilHour, untilString);

        untilCalcSmall(untilMin, untilString);

        untilCalcSmall(until, untilString);*/

        if (untilHour < 10) {
          untilString = untilString + ":0" + untilHour;
        } else {
          untilString = untilString + ":" + untilHour;
        }

        if (untilMin < 10) {
          untilString = untilString + ":0" + untilMin;
        } else {
          untilString = untilString + ":" + untilMin;
        }

        if (until < 10) {
          untilString = untilString + ":0" + until;
        } else {
          untilString = untilString + ":" + until;
        }

        time.innerHTML = untilString;
      }

      function untilCalcSmall(i, s) {
        if (i < 10) {
          s = s + ":0" + i;
        } else {
          s = s + ":" + i;
        }
      }
    </script>
  </body>
</html>
